# 银行流水管理系统

本项目为上海大学【2025-2026学年秋季学期《面向对象程序设计A》课程】实验一

> 参考教材 P.305（第 8、11 章）与实验案例 Banking / AddressBook，使用 `LinkList<T>` 模板构建 **客户 → 账户 → 流水** 的三层单向链表。

## 类设计
### 1. Transaction (流水)
最底层的数据单元，记录单笔交易详情。
- **字段**: `date` (日期), `amount` (金额), `remark` (备注), `targetAccountId` (对方账户ID)
- **方法**: 重载 `operator<<` 用于打印（需显示对方账号），重载 `operator==` 用于查找。

### 2. Account (账户)
中间层，归属于某个客户。
- **字段**: `id` (账号), `name` (姓名), `password` (密码), `transactions` (类型为 `LinkList<Transaction>`)
- **方法**: 包含添加流水、打印账户信息的方法。

### 3. Customer (客户)
最顶层，银行系统的直接管理对象。
- **字段**: `id` (客户号), `name` (姓名), `accounts` (类型为 `LinkList<Account>`)
- **方法**: 包含添加账户、打印客户信息的方法。

### 4. Application
https://patorjk.com/software/taag/

## 最小可用功能
- **新增客户**：只记录客户编号与姓名，插入到客户链表。
- **新增账户**：在指定客户的账户链表里创建账号（账号 ID、账户别名）。
- **登记流水**：在账户节点挂接的流水链表中追加一条交易（时间、金额、备注）。
- **查看层级**：按客户 → 账户 → 流水顺序打印所有记录，方便调试和验收。

## 类与链表关系
- `LinkList<Customer>`：维护客户节点，节点中保存 `LinkList<Account>`。
- `LinkList<Account>`：每个客户拥有自己的账户链表，节点中保存 `LinkList<Transaction>`。
- `LinkList<Transaction>`：记录某账户的所有流水明细，支持追加与简单遍历。

## ASCII 结构示意
```
+-------------------------------+
|        Customer List          |
|  (LinkList<Customer>)        |
+-------------------------------+
		|
		v
   +---------------------+
   |   Account List      |  每个客户自带一条账户链表
   | (LinkList<Account>) |
   +---------------------+
		|
		v
	+--------------------+
	| Transaction List   |  每个账户再挂一条流水链表
	|(LinkList<Transaction>)|
	+--------------------+
```

## 框架要点（简单语言）
1. **模板复用**：教材提供的 `LinkList<T>` 负责节点管理，我们只需定义 `Customer` / `Account` / `Transaction` 这三个数据结构。
2. **组合胜过继承**：每个上层节点持有一个下层 `LinkList` 成员，而不是继承多个链表类，便于理解与调试。
3. **从外向内遍历**：打印或查找时，先遍历客户，再进入账户，最后处理流水即可满足实验要求。

## 数据格式

`bank_data.txt` 采用简单文本格式，每行一个记录：

- **客户记录**: `C <客户ID> <姓名>`
- **账户记录**: `A <客户ID> <账户ID>`
- **流水记录**: `T <流水号> <账户ID> <日期> <金额> <备注> <对方账户ID>`

示例文件内容：
```
C 101 Alice
A 101 8888 Savings
T 8888 2023-11-19 100.0 Shopping 0
C 102 Bob
A 102 9999 Checking
T 9999 2023-11-20 -50.0 Transfer 8888
```

所有字符串无空格，金额为浮点数，对方账户ID 为 0 表示现金操作。
